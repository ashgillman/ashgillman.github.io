<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[The Red Wheel]]></title>
  <link href="http://ashgillman.github.io/atom.xml" rel="self"/>
  <link href="http://ashgillman.github.io/"/>
  <updated>2014-12-02T21:32:57+10:00</updated>
  <id>http://ashgillman.github.io/</id>
  <author>
    <name><![CDATA[Ashley Gillman]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Connecting With Arduino Nano Clone With CH340G (BAITE)]]></title>
    <link href="http://ashgillman.github.io/connecting-with-arduino-nano-clone-with-ch340g-baite/"/>
    <updated>2014-11-06T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/connecting-with-arduino-nano-clone-with-ch340g-baite</id>
    <content type="html"><![CDATA[<p>A while ago the robotics club bought a number of Arduino Nano clones for <a href="http://theredwheel.com/category/robo-club/project-mario/" title="Project Mario">Project Mario</a>. We often use clones in our projects because of the very limited budgets we have.<figure id="attachment_106" style="width: 300px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/11/2014-11-06-17.36.51.jpg" data-gallery><img class="wp-image-106 size-medium" src="http://theredwheel.com/wp-content/uploads/2014/11/2014-11-06-17.36.51-e1415260199327-300x139.jpg" alt="BAITE NANO3 BTE14-01 Arduino Nano Clone" width="300" height="139" /></a><figcaption class="wp-caption-text">BAITE NANO3 BTE14-01 Arduino Nano Clone</figcaption></figure>
However, I was never able to connect on my Mac to them. I could, from a windows PC, connect and upload projects, but the Mac was unable to see any serial device. The same was true for all of the same devices.</p>

<p>By going to Apple Logo > About this Mac > More Info&#8230; > System Report&#8230; > USB, with the device unplugged, plugging it in, then hitting reload (⌘R), I was able to verify that when the device was plugged in it was seen as USB2.0-Serial. After a closer inspection of the underside of the Nano clone, I noted that the board used a serial module I had not heard of, the CH340G.<figure id="attachment_107" style="width: 300px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/11/2014-11-06-17.37.31.jpg" data-gallery><img class="wp-image-107 size-medium" src="http://theredwheel.com/wp-content/uploads/2014/11/2014-11-06-17.37.31-e1415260289828-300x153.jpg" alt="Underside, the chip on the right is CH340G 202685306" width="300" height="153" /></a><figcaption class="wp-caption-text">Underside, the chip on the right isCH340G 202685306</figcaption></figure>
This device did not work with the FTDI drivers, nor the PL2302 drivers.</p>

<p>&lt;NOTE: Please read the edit below before using the Russian link.></p>

<p>It took a bit of searching, but I found a <a title="CH340G" href="http://www.5v.ru/ch340g.htm" target="_blank">Russian website</a> with the required drivers. The website looks a little dodgy, but the drivers work so I&#8217;m happy. I just had to scroll down a little and click the link &#8220;USB CH341/CH340 MAC OS32, MAC OS64&#8243;, but there is also Windows and Linux should anyone need the drivers on these systems.</p>

<p>EDIT:</p>

<p>I since noticed that the driver above names the device something like <code>tty.wch ch341 USB=&gt;RS232 xxxx</code>, which makes it difficult or even unsuitable to be used in some programs since spaces and special characters like the equal and greater than signs need to be escaped. Further <a title="Stack Exchange" href="http://arduino.stackexchange.com/questions/3700/rename-device-name-ch340-usb-to-serial-mac-os" target="_blank">searching</a> found an <a title="CH340 Driver" href="http://www.wch.cn/downloads.php?name=pro&proid=178" target="_blank">updated driver</a> that fixed this issue. The name is now <code>tty.wchusbserial1410</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bluetooth Controlled Zumo&#8217;s From a Pi]]></title>
    <link href="http://ashgillman.github.io/bluetooth-controlled-zumos-from-a-pi/"/>
    <updated>2014-07-17T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/bluetooth-controlled-zumos-from-a-pi</id>
    <content type="html"><![CDATA[<p>As the first stage of Project Mario, I will implement bluetooth control of a Polulo Zumo using a controller from a USB joystick attached to a Raspberry Pi.</p>

<p>The USB dongle I&#8217;m using is called a Bluetooth CSR 4.0 Dongle, which is a very cheap BT 4.0 compatible dongle. I actually forgot to check ahead of time it was compatible with the Pi, but luckily enough it is. The BT receiver on the Zumo used is a HC-05 (kindly lent by Brendan Calvert). Finally, the joystick is a cheap Playstation 2 imitation USB controller, bought on the cheap from eBay.</p>

<p>The first step I took was to ensure I could read the joystick on the Pi. I decided to read the joystick using the <a href="http://www.pygame.org/news.html" target="_blank">pygame</a> joystick module. I found a simple piece of test code <a href="http://www.raspberrypi.org/forums/viewtopic.php?f=78&t=43589" target="_blank">here</a>, which ran successfully on the Pi except that I ran it from command line and therefore couldn&#8217;t hit the close button to quit (ctrl-c didn&#8217;t work either).</p>

<p>The next step was to send some test serial messages over bluetooth. As my test receiver I used an Arduino connected to my laptop, with the HC-05 tx and rx connected to pins 8 and 9. I simply used the <a href="https://www.pjrc.com/teensy/td_libs_AltSoftSerial.html" target="_blank">AltSoftwareSerial</a> example, which relayed any received messages from one serial connection to another so I could monitor any received massages. Setup and testing of the bluetooth module was done using the process outlined <a href="http://blog.dawnrobotics.co.uk/2013/11/talking-to-a-bluetooth-serial-module-with-a-raspberry-pi/" target="_blank">here</a>.</p>

<p>I already had code that would control a Zumo over bluetooth using a computer keyboard, implemented using the <a href="http://lightblue.sourceforge.net/" target="_blank">lightblue</a> bluetooth module for Mac and Tkinter to get keyboard input. Now was just a simple case of modifying the output to use the serial module and pygame joystick input as in the above examples. I also found <a href="http://nullege.com/codes/show/src%40c%40r%40crazyflie-clients-python-HEAD%40lib%40cfclient%40utils%40pygamereader.py/134/pygame.joystick.init/python" target="_blank">this</a> code, a module for controlling a quad-rotor using similar joysticks, very useful.</p>

<p>Here is the result:</p>

<p><a href="https://github.com/jcuroboclub/Project-Mario/blob/master/Pi/test/BTcontrol.py">https://github.com/jcuroboclub/Project-Mario/blob/master/Pi/test/BTcontrol.py</a></p>

<p><a href="https://github.com/jcuroboclub/Project-Mario/blob/master/Zumo/BT_basicCtrl/BT_basicCtrl.ino">https://github.com/jcuroboclub/Project-Mario/blob/master/Zumo/BT_basicCtrl/BT_basicCtrl.ino</a></p>

<p>&nbsp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Upgrading the Relay Output Board]]></title>
    <link href="http://ashgillman.github.io/upgrading-the-relay-output-board/"/>
    <updated>2014-06-12T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/upgrading-the-relay-output-board</id>
    <content type="html"><![CDATA[<p>Continuing work on the <a href="http://theredwheel.com/category/robo-club/oversized-rc-cars/">Oversized RC Car Project</a>, we last left off after the sprint day. Theoretically the code should be all working, except that we couldn&#8217;t get the MOSFET H-bridge working. We needed this working because the relay board used before this couldn&#8217;t handle the motor stall current.</p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/relays.jpg" data-gallery><img class="alignnone wp-image-78 size-thumbnail" src="http://theredwheel.com/wp-content/uploads/2014/06/relays-150x150.jpg" alt="Relays" width="150" height="150" /> <img class="alignnone wp-image-79 size-thumbnail" src="http://theredwheel.com/wp-content/uploads/2014/06/relayBottom-150x150.jpg" alt="relayBottom" width="150" height="150" /></a></p>

<p>Rather than keeping on with the MOSFET design (for now), I went out and ordered some higher current relays. Using the HRM-S-DC5V relays instead of the old M4-5H relays takes the current capacity from 0.5A to 5A, enough for the stall current of 5V. The issue with the newer relays however is a different footprint.</p>

<p>I chose the new relays to have a similar footprint, indeed the NC and NO output pins are the same. The only difference is the relay coil pins are spaced further apart. I was able to deal with this by raising the relays using header strips, then use wires to connect the coil.<figure id="attachment_88" style="width: 150px;" class="wp-caption alignnone"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/modHeader.jpg" data-gallery><img class="size-thumbnail wp-image-88" src="http://theredwheel.com/wp-content/uploads/2014/06/modHeader-150x150.jpg" alt="Removing pins to fit the header" width="150" height="150" /></a><figcaption class="wp-caption-text">Removing pins to fit the header</figcaption></figure> <figure id="attachment_85" style="width: 150px;" class="wp-caption alignnone"><a href="http://theredwheel.com/wp-content/uploads/2014/06/boardWithHeader1.jpg" data-gallery><img class="size-thumbnail wp-image-85" src="http://theredwheel.com/wp-content/uploads/2014/06/boardWithHeader1-150x150.jpg" alt="The board with new headers attached" width="150" height="150" /></a><figcaption class="wp-caption-text">The board with new headers attached</figcaption></figure> <figure id="attachment_89" style="width: 150px;" class="wp-caption alignnone"><a href="http://theredwheel.com/wp-content/uploads/2014/06/RelayWithWire1.jpg" data-gallery><img class="size-thumbnail wp-image-89" src="http://theredwheel.com/wp-content/uploads/2014/06/RelayWithWire1-150x150.jpg" alt="Adding wires" width="150" height="150" /></a><figcaption class="wp-caption-text">Adding wires</figcaption></figure>
Now that this is working, hopefully we can test the code for the cars soon and have them running for the upcoming open day.<figure id="attachment_86" style="width: 1000px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/FinalSide.jpg" data-gallery><img class="wp-image-86 size-full" src="http://theredwheel.com/wp-content/uploads/2014/06/FinalSide.jpg" alt="Finished" width="1000" height="562" /></a><figcaption class="wp-caption-text">Finished</figcaption></figure>
<a href="http://theredwheel.com/wp-content/uploads/2014/06/FinalTop1.jpg" data-gallery><img class="aligncenter wp-image-87 size-full" src="http://theredwheel.com/wp-content/uploads/2014/06/FinalTop1.jpg" alt="FinalTop" width="1000" height="562" /></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Robo Derby]]></title>
    <link href="http://ashgillman.github.io/robo-derby/"/>
    <updated>2014-06-01T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/robo-derby</id>
    <content type="html"><![CDATA[<p><span style="color: #222222;">The </span><a style="color: #888888;" href="https://www.facebook.com/groups/JCUrobotics/">JCU Robo Club</a><span style="color: #222222;"> has just held our first major event, in the form of a line-follower robot death-match.</span><br style="color: #222222;" /><span style="color: #222222;">The challenge was perfect for the club to establish our purpose of promoting robotics as a fun hobby and teaching the skills required from the very basics.</span><br style="color: #222222;" /><span style="color: #222222;">Throughout the semester we held a number of sessions, including a build session where students learned how to solder and another where students learned to program Arduino boards. The club is proud to be promoting the learning of these skills for fun rather than business.</span><br style="color: #222222;" /><span style="color: #222222;">The club has been successful in making robotics accessible, proven by the fact that both the winners and runners up were completely new to robotics six months ago.</span></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/2014-05-22-12.48.06.jpg" data-gallery><img class="aligncenter size-full wp-image-42" src="http://theredwheel.com/wp-content/uploads/2014/06/2014-05-22-12.48.06.jpg" alt="Preparing for the competition" width="3840" height="2160" /></a></p>

<p><span style="color: #222222;">The robots used were </span><a style="color: #888888;" href="http://www.pololu.com/category/129/zumo-robot-and-accessories">Polulo Zumos</a><span style="color: #222222;">, supplied by </span><a style="color: #888888;" href="http://www.robotgear.com.au/">Robot Gear</a><span style="color: #222222;">. The flexibility of these robots is such that we plan on using them for a number of upcoming projects, including a </span><a style="color: #888888;" href="http://robogames.net/rules/all-sumo.php">sumo</a><span style="color: #222222;"> competition in the upcoming semester and possibly for a special real-life video game project we have on the drawing board.</span></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Sprint Day &#8211; Oversized RC Cars]]></title>
    <link href="http://ashgillman.github.io/sprint-day-oversized-rc-cars/"/>
    <updated>2014-04-01T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/sprint-day-oversized-rc-cars</id>
    <content type="html"><![CDATA[<p>The club held its first sprint day on Saturday. The sprint was held for the oversized RC car project, but also to test out the sprint day format as a possible standard format for club projects.<figure id="attachment_60" style="width: 1000px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay1.jpg" data-gallery><img class="size-full wp-image-60" src="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay1.jpg" alt="Karl, Drew and Luke working on the Arduino code for the bluetooth comms" width="1000" height="563" /></a><figcaption class="wp-caption-text">Karl, Drew and Luke working on the Arduino code for the bluetooth comms</figcaption></figure>
The aims of the day were to complete major aspects of the project: Android bluetooth communication code, Arduino bluetooth communication code, Arduino hardware interfacing, Relay replacement with MOSFETs, MOSFET H-bridge design</p>

<ul>
<li>Android bluetooth communication code</li>
<li>Arduino bluetooth communication code</li>
<li>Arduino hardware interfacing</li>
<li>Relay replacement with MOSFETs</li>
<li>MOSFET H-bridge design, including PCB design (ready for milling)<figure id="attachment_62" style="width: 1000px;" class="wp-caption aligncenter"></li>
</ul>


<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay3.jpg" data-gallery><img class="size-full wp-image-62" src="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay3.jpg" alt="Working on the design for the MOSFET H-bridge" width="1000" height="563" /></a><figcaption class="wp-caption-text">Working on the design for the MOSFET H-bridge</figcaption></figure> <figure id="attachment_61" style="width: 1000px;" class="wp-caption aligncenter"><a href="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay2.jpg" data-gallery><img class="size-full wp-image-61" src="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay2.jpg" alt="Brendan and Jayden troubleshoot the h-bridge design." width="1000" height="563" /></a><figcaption class="wp-caption-text">Brendan and Jayden troubleshoot the h-bridge design.</figcaption></figure> <figure id="attachment_65" style="width: 1000px;" class="wp-caption aligncenter"><a href="http://theredwheel.com/wp-content/uploads/2014/04/SprintDayDesign.jpg" data-gallery><img class="size-full wp-image-65" src="http://theredwheel.com/wp-content/uploads/2014/04/SprintDayDesign.jpg" alt="H-bridge design: Inputs are F (forward on/off), R (reverse on/off), PWMF (forward duty), PWMR (reverse duty). Also implemented was a logic circuit for 2 pin input (direction select and duty)." width="1000" height="562" /></a><figcaption class="wp-caption-text">H-bridge design: Inputs are F (forward on/off), R (reverse on/off), PWMF (forward duty), PWMR (reverse duty). Also implemented was a logic circuit for 2 pin input (direction select and duty).</figcaption></figure>
In addition to the H-bridge circuitry, logic was implemented to ensure shorting 12V to GND was impossible. This also was able to reduce the required input pins to 2.<figure id="attachment_66" style="width: 1000px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/04/SprintDayProto.jpg" data-gallery><img class="size-full wp-image-66" src="http://theredwheel.com/wp-content/uploads/2014/04/SprintDayProto.jpg" alt="H-bridge Prototype" width="1000" height="562" /></a><figcaption class="wp-caption-text">H-bridge Prototype</figcaption></figure>
Due to the higher current, it was decided to prototype the H-bridge using a terminal block. However, this monster ended up taking a lot of time and was very messy. I would recommend a better solution for future reference. Unfortunately, the MOSFET H-bridge design was not complete by the end of the day. We ran out of time for the troubleshooting, though we still managed to find time for lunch and a few beers during the day.</p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay4.jpg" data-gallery><img class="aligncenter size-full wp-image-63" src="http://theredwheel.com/wp-content/uploads/2014/06/SprintDay4.jpg" alt="Sprint Day 4" width="1000" height="563" /></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Introducing the Oversize RC Car Project]]></title>
    <link href="http://ashgillman.github.io/introducing-the-oversize-rc-car-project/"/>
    <updated>2014-03-03T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/introducing-the-oversize-rc-car-project</id>
    <content type="html"><![CDATA[<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/ToddlerCars.jpg" data-gallery><img class="aligncenter size-full wp-image-52" src="http://theredwheel.com/wp-content/uploads/2014/06/ToddlerCars.jpg" alt="Toddler cars" width="1000" height="562" /></a>The JCU School of Engineering has two of these toddler cars, and are looking to kit them out into RC cars for use at show days, etc. These cars were used in CC3501 last year as the main project, however neither of the two teams in the class successfully got the cars going.</p>

<p>The <a href="https://www.facebook.com/groups/JCUrobotics/">Robo Club</a> has agreed to take on this project this semester, and I will be leading the project. In fact I have already done some work on the project leading up to the beginning of the semester, having designed a relay board for use with an Arduino Pro Mini 5V.</p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/5V-Relay-Outputs.png" data-gallery><img class="aligncenter size-full wp-image-55" src="http://theredwheel.com/wp-content/uploads/2014/06/5V-Relay-Outputs.png" alt="5V Relay Outputs" width="493" height="745" /></a></p>

<p>&nbsp;</p>

<p>I used NPN transistor buffers from the output of the Arduino to drive the transistor coils. I did this because I don&#8217;t like the idea of the board driving the coil directly (although it should be possible). I feel safer having the inductive coil somewhat isolated from the circuit by the transistor.<figure id="attachment_53" style="width: 1000px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/RelayBreadBoard1.jpg" data-gallery><img class="size-full wp-image-53" src="http://theredwheel.com/wp-content/uploads/2014/06/RelayBreadBoard1.jpg" alt="Bread Board Prototype for bluetooth relay outputs" width="1000" height="563" /></a><figcaption class="wp-caption-text">Bread Board Prototype for bluetooth relay outputs</figcaption></figure>
&nbsp;<figure id="attachment_54" style="width: 1000px;" class="wp-caption aligncenter"></p>

<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/relayBoard.jpg" data-gallery><img class="size-full wp-image-54" src="http://theredwheel.com/wp-content/uploads/2014/06/relayBoard.jpg" alt="Milled Board" width="1000" height="562" /></a><figcaption class="wp-caption-text">Milled Board</figcaption></figure>
The relays used here are M4-5H, which are only rated to 0.5A. However, the motors can pull up to 3A stall current. Therefore, the relays aren&#8217;t expected to last. They do the job, however: for now..</p>

<p>This temporary solution is designed to allow the car to be shown off in order to raise interest from Robo Club members to participate in the project.</p>

<p>&nbsp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Automated Cryogenic Test Facility]]></title>
    <link href="http://ashgillman.github.io/automated-cryogenic-test-facility/"/>
    <updated>2014-02-20T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/automated-cryogenic-test-facility</id>
    <content type="html"><![CDATA[<figure id="attachment_35" style="width: 3840px;" class="wp-caption aligncenter"><a href="http://theredwheel.com/wp-content/uploads/2014/06/2014-05-21-12.50.04.jpg" data-gallery><img class="size-full wp-image-35" src="http://theredwheel.com/wp-content/uploads/2014/06/2014-05-21-12.50.04.jpg" alt="Cryogenic Test Facility" width="3840" height="2160" /></a><figcaption class="wp-caption-text">Cryogenic Test Facility</figcaption></figure>


<p> <figure id="attachment_34" style="width: 1007px;" class="wp-caption aligncenter"><a href="http://theredwheel.com/wp-content/uploads/2014/06/Screenshot-2014-02-20-13.36.28.png" data-gallery><img class="size-full wp-image-34" src="http://theredwheel.com/wp-content/uploads/2014/06/Screenshot-2014-02-20-13.36.28.png" alt="Screenshot of the LabVIEW program to run the test" width="1007" height="827" /></a><figcaption class="wp-caption-text">Screenshot of the LabVIEW program to run the test</figcaption></figure>
<span style="color: #222222;">Automation of a cryogenic test system, used in characterisation of super conductors and organic materials. This project required rapid learning of <a href="http://en.wikipedia.org/wiki/LabVIEW">LabVIEW G</a>, a graphical language. This was quite different project, at times frustrating. I am still unsure exactly as to LabVIEW&#8217;s advantages over regular textual languages.</span></p>

<p><span style="color: #222222;">This is a project I worked on for James Cook University late 2012/early 2013. I am currently working on a remote monitoring system using Node.js, the code for which can be seen here: </span><a style="color: #888888;" href="https://github.com/gillwoman/cryoWeb"><a href="https://github.com/gillwoman/cryoWeb">https://github.com/gillwoman/cryoWeb</a></a>. More info is to come on the web monitoring system.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Welcome]]></title>
    <link href="http://ashgillman.github.io/welcome/"/>
    <updated>2014-02-10T00:00:00+10:00</updated>
    <id>http://ashgillman.github.io/welcome</id>
    <content type="html"><![CDATA[<p><a href="http://theredwheel.com/wp-content/uploads/2014/06/genericCircuit.jpg" data-gallery><img class="aligncenter size-large wp-image-9" src="http://theredwheel.com/wp-content/uploads/2014/06/genericCircuit-1024x577.jpg" alt="Generic Circuit" width="1024" height="577" /></a></p>

<p>Hello and welcome. This page is where I intend to keep a log of my projects and progress. The projects that will be covered here will involve the topics of programming, robotics and signal processing.</p>

<p>This page is as much for myself to keep track as it is for others to gain inspiration or to learn from my mistakes. Feel free to ask any questions about the projects.</p>
]]></content>
  </entry>
  
</feed>
